(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{172:function(e,t,a){e.exports=a(315)},315:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(39),o=a.n(l),c=a(17),i=a(18),s=a(21),u=a(19),m=a(20),p=a(159),h=a(35),d=a(32),b=a.n(d),f=a(48),y=a(46),g=a(143),v=a.n(g).a.create({headers:{Accept:"application/json","Content-Type":"application/json"},baseURL:"http://127.0.0.1:3001"}),E=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("table",{className:"ui celled table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Form Id"),r.a.createElement("th",null,"Form Name"),r.a.createElement("th",null,"# Submissions"),r.a.createElement("th",null,"Submit Page "),r.a.createElement("th",null,"Submissions Page"))),r.a.createElement("tbody",null,this.props.forms.map(function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",{"data-label":"Form Id"},e.id),r.a.createElement("td",{"data-label":"Form Name"},e.title),r.a.createElement("td",{"data-label":"# Submissions"},e.count),r.a.createElement("td",{"data-label":"Submit Page"},r.a.createElement("a",{href:"/FormViewer/".concat(e.id,"/")},"View")),r.a.createElement("td",{"data-label":"Submissions Page"},r.a.createElement("a",{href:"/DataViewer/".concat(e.id,"/")},"View")))}))))}}]),t}(r.a.Component),S=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).nextPath=function(e){a.props.history.push(e)},a.state={forms:[]},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=Object(y.a)(b.a.mark(function e(){var t=this;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get("/getTableDetails",{}).then(function(e){if("false"===e.success);else for(var a=0;a<e.data.length;a++){var n={id:e.data[a].id,title:e.data[a].title,count:e.data[a].count};t.setState(function(e){return{forms:[].concat(Object(f.a)(e.forms),[n])}})}}).catch(function(e){console.log("got error while posting data",e)});case 2:console.log(this);case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"ui container",style:{marginTop:"10px"}},r.a.createElement(E,{forms:this.state.forms}),r.a.createElement("button",{style:{marginTop:"50px"},className:"ui button",onClick:function(){return e.nextPath("/Wizard")}},"CreateForm"))}}]),t}(r.a.Component),O=a(54);var j=function(e){var t=e.label,a=e.name,n=e.handleChange,l=e.type,o=void 0===l?"text":l;return r.a.createElement("div",null,r.a.createElement("label",null,t,":"),r.a.createElement("input",{type:o,value:a,onChange:n}))},C=a(321),x=[{key:"text",value:"text",text:"text"},{key:"color",value:"color",text:"color"},{key:"date",value:"date",text:"date"},{key:"email",value:"email",text:"email"},{key:"tel",value:"tel",text:"tel"},{key:"number",value:"number",text:"number"}];var k,w=function(e){var t=e.label,a=e.name,n=e.handleChange;return r.a.createElement("div",{style:{marginTop:"15px"}},r.a.createElement("label",null,t,":"),r.a.createElement(C.a,{placeholder:"Select type",clearable:!0,options:x,selection:!0,value:a,onChange:n}))},F=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).ChangeName=function(e){a.setState({name:e.target.value})},a.ChangeLabel=function(e){a.setState({label:e.target.value})},a.ChangeType=function(e,t){var n=t.value;a.setState({type:n})},a.CreateJson=function(){a.props.GetPropertyJson(JSON.stringify(a.state))},a.state={label:"",name:"",type:""},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(j,{label:"label",type:"text",name:this.state.label,onUpdate:this,handleChange:this.ChangeLabel}),r.a.createElement(j,{label:"name",type:"text",name:this.state.name,onUpdate:this,handleChange:this.ChangeName}),r.a.createElement(w,{label:"type",name:this.state.type,onUpdate:this,handleChange:this.ChangeType}),r.a.createElement("button",{style:{marginTop:"10px"},className:"ui primary button",variant:"primary",onClick:function(){return e.props.GetPropertyJson(JSON.stringify(e.state))}},"Done!"))}}]),t}(r.a.Component),N=function(e){var t=e.label,a=e.handleChange,n=e.type,l=void 0===n?"text":n;return r.a.createElement("div",null,r.a.createElement("label",null,t,":"),r.a.createElement("input",{type:l,onChange:a}))},D=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).CreateProperty=function(){a.setState({showCard:!0})},a.onFormSubmit=function(e){e.preventDefault()},a.AddField=function(e){var t=JSON.parse(e);a.setState({name:t.name}),a.setState({label:t.label}),a.setState({type:t.type}),a.setState({showCard:!1}),a.pushFieldToFields()},a.pushFieldToFields=function(){a.setState(function(e){return{fields:[].concat(Object(f.a)(e.fields),[{name:e.name,label:e.label,type:e.type}])}}),a.setState({name:""}),a.setState({label:""}),a.setState({type:""})},a.SaveForm=function(){var e={title:a.state.title,properties:a.state.fields};v.post("/AddForm",{form:e}).then(function(e){console.log("Data submitted successfully: ",e)}).catch(function(e){console.log("got error while posting data",e)})},a.nextPath=function(e){a.props.history.push(e)},a.state={showCard:!1,title:"",type:"",name:"",label:"",fields:[]},a.AddField=a.AddField.bind(Object(O.a)(a)),a.CreateProperty=a.CreateProperty.bind(Object(O.a)(a)),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.state.fields.map(function(e,t){return r.a.createElement(N,{key:t,name:e.name,label:e.label,type:e.type})});return r.a.createElement("div",{className:"ui segment"},r.a.createElement("form",{onSubmit:this.onFormSubmit,className:"ui form"},r.a.createElement("div",{className:"field"},r.a.createElement("input",{className:"ui header",placeholder:"Place your form title here",type:"text",value:this.state.title,onChange:function(t){return e.setState({title:t.target.value})}}),r.a.createElement("div",null,r.a.createElement("button",{style:{marginTop:"50px"},className:"ui button",onClick:this.CreateProperty},"Add Field")),this.state.showCard&&r.a.createElement(F,{GetPropertyJson:this.AddField}),r.a.createElement("div",null,this.state.fields.length>0&&[t]),r.a.createElement("button",{type:"submit",style:{marginTop:"50px"},className:"ui button",onClick:this.SaveForm},"Done building my form"))),r.a.createElement("button",{style:{marginTop:"50px"},className:"ui button",onClick:function(){return e.nextPath("/")}},"Back"))}}]),t}(r.a.Component),P=a(162),T=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=Object(y.a)(b.a.mark(function e(){return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.post("/getFormSchema",{id:a.props.match.params.id}).then(function(e){if(!0===e.data.success){var t=JSON.parse(e.data.data[0].formSchema);a.setState({Schema:t}),a.setState({flag:!0})}else console.log(e)}).catch(function(e){console.log("got error while posting data",e)});case 2:console.log(a.state.Schema);case 3:case"end":return e.stop()}},e)})),a.onFormSubmit=function(e){e.preventDefault()},a.nextPath=function(e){a.props.history.push(e)},a.SaveForm=function(e){v.post("/SaveData",{data:a.state.formData,id:a.state.id}).then(function(e){e.success?console.log("Data submitted successfully: ",e):console.log("NO SUCESS! ",e)}).catch(function(e){console.log("got errr while posting data",e)})},a.ChangeVal=function(e,t){var n=Object(P.a)({},a.state.formData);n[e]=t.target.value,a.setState({formData:n})},a.state={id:e.match.params.id,Schema:[],flag:!1,formData:[]},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return this.state.flag&&(k=this.state.Schema.properties.map(function(t,a){return r.a.createElement(N,{key:a,label:t.label,type:t.type,handleChange:e.ChangeVal.bind(e,t.name)})})),r.a.createElement("div",{className:"ui segment"},r.a.createElement("div",null,r.a.createElement("h1",{className:"ui header"},this.state.Schema.title)),r.a.createElement("form",{onSubmit:this.onFormSubmit,className:"ui form"},this.state.flag&&[k],r.a.createElement("button",{type:"submit",style:{marginTop:"50px"},className:"ui button",onClick:this.SaveForm},"Done!")),r.a.createElement("button",{style:{marginTop:"50px"},className:"ui button",onClick:function(){return e.nextPath("/")}},"Back"))}}]),t}(r.a.Component),J=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).nextPath=function(e){a.props.history.push(e)},a.componentDidMount=Object(y.a)(b.a.mark(function e(){return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.post("/getFormData",{id:a.props.match.params.id}).then(function(e){if(e.data.length>0)for(var t=0;t<e.data.length;t++){var n={row:e.data};a.setState(function(e){return{data:[].concat(Object(f.a)(e.data),[n])}})}console.log(e)}).catch(function(e){console.log("got error while posting data",e)});case 2:console.log(a.state);case 3:case"end":return e.stop()}},e)})),a.state={headers:[],data:[]},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"ui container",style:{marginTop:"10px"}},r.a.createElement("table",{className:"ui celled table",id:"FormData"},r.a.createElement("tbody",null)),r.a.createElement("button",{style:{marginTop:"50px"},className:"ui button",onClick:function(){return e.nextPath("/")}},"Back"))}}]),t}(r.a.Component),V=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(p.a,null,r.a.createElement("div",null,r.a.createElement(h.c,null,r.a.createElement(h.a,{exact:!0,path:"/",component:S}),r.a.createElement(h.a,{exact:!0,path:"/Wizard",component:D}),r.a.createElement(h.a,{path:"/FormViewer/:id",component:T}),r.a.createElement(h.a,{path:"/DataViewer/:id",component:J}))))}}]),t}(r.a.Component);o.a.render(r.a.createElement(V,null),document.querySelector("#root"))}},[[172,1,2]]]);
//# sourceMappingURL=main.05f707b2.chunk.js.map